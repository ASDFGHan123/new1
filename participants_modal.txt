Add this handler function after handlePrintConversations:

const handleViewParticipants = (conversation: any) => {
  const participants = Array.isArray(conversation.participants) ? conversation.participants : [];
  setSelectedParticipants(participants);
  setSelectedConversation(conversation);
  setShowParticipantsModal(true);
};

Add this Dialog before closing </Card> tag:

<Dialog open={showParticipantsModal} onOpenChange={setShowParticipantsModal}>
  <DialogContent className="max-w-md">
    <DialogHeader>
      <DialogTitle>Conversation Participants</DialogTitle>
      <DialogDescription>{selectedConversation?.title}</DialogDescription>
    </DialogHeader>
    <div className="space-y-2">
      {selectedParticipants.length === 0 ? (
        <p className="text-muted-foreground text-center py-4">No participants</p>
      ) : (
        selectedParticipants.map((participant: any, idx: number) => (
          <div key={idx} className="flex items-center space-x-3 p-3 border rounded-lg bg-muted/30">
            <Avatar className="w-8 h-8">
              <AvatarImage src={`https://api.dicebear.com/7.x/avataaars/svg?seed=${participant.id || participant.username}`} />
              <AvatarFallback>
                {(participant.username || participant.name || 'U').slice(0, 2).toUpperCase()}
              </AvatarFallback>
            </Avatar>
            <div className="flex-1">
              <p className="font-medium text-sm">{participant.username || participant.name || 'Unknown'}</p>
              {participant.email && <p className="text-xs text-muted-foreground">{participant.email}</p>}
            </div>
          </div>
        ))
      )}
    </div>
    <DialogFooter>
      <Button onClick={() => setShowParticipantsModal(false)}>Close</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
